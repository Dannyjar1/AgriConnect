// AgriConnect Productos - Estilos SCSS
// Compatible con TailwindCSS v4 y diseño responsive

// Variables de tema AgriConnect
:host {
  --agri-green-50: #f0fdf4;
  --agri-green-100: #dcfce7;
  --agri-green-500: #22c55e;
  --agri-green-600: #16a34a;
  --agri-green-700: #15803d;
  --shadow-soft: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
  --shadow-medium: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  --shadow-large: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

// Gradiente de fondo personalizado
.bg-gradient-agri {
  background: linear-gradient(135deg, #f0fdf4 0%, #ecfdf5 50%, #f0fdf4 100%);
}

// Texto con gradiente AgriConnect
.text-gradient-agri {
  background: linear-gradient(135deg, var(--agri-green-600) 0%, var(--agri-green-700) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

// Logo imagen placeholder
.logo-image {
  background: linear-gradient(135deg, var(--agri-green-500) 0%, var(--agri-green-600) 100%);
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>');
  background-size: 60%;
  background-repeat: no-repeat;
  background-position: center;
}

// Tarjetas de producto mejoradas
.card {
  @apply bg-white rounded-xl shadow-sm border border-gray-100 transition-all duration-300;
  box-shadow: var(--shadow-soft);
}

.card-hover {
  &:hover {
    @apply border-transparent;
    box-shadow: var(--shadow-large);
    transform: translateY(-2px);
  }

  &:focus-within {
    @apply ring-2 ring-agri-green-500 ring-offset-2;
    box-shadow: var(--shadow-large);
  }
}

.hover-lift {
  &:hover {
    transform: translateY(-4px);
  }
}

// Imágenes de producto con efectos
.product-img {
  @apply transition-all duration-500;
  
  .group:hover & {
    transform: scale(1.05);
  }
}

// Scroll horizontal personalizado y accesible
.scrollbar-smooth {
  scrollbar-width: thin;
  scrollbar-color: var(--agri-green-500) transparent;

  &::-webkit-scrollbar {
    height: 8px;
  }

  &::-webkit-scrollbar-track {
    @apply bg-gray-100 rounded-full;
  }

  &::-webkit-scrollbar-thumb {
    @apply rounded-full;
    background: linear-gradient(90deg, var(--agri-green-500) 0%, var(--agri-green-600) 100%);
    
    &:hover {
      background: var(--agri-green-700);
    }
  }
}

// Ocultar scrollbar en dispositivos móviles pero mantener funcionalidad
@media (max-width: 768px) {
  .scrollbar-smooth {
    scrollbar-width: none;
    
    &::-webkit-scrollbar {
      display: none;
    }
  }
}

// Animaciones personalizadas
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(50px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

// Aplicar animaciones a las secciones
section {
  animation: fadeInUp 0.6s ease-out forwards;
}

// Animaciones escalonadas para las categorías
@for $i from 1 through 12 {
  section:nth-child(#{$i + 2}) {
    animation-delay: #{$i * 0.1}s;
  }
}

// Indicadores de scroll con animación
.scroll-indicators {
  .indicator {
    @apply transition-all duration-300 ease-in-out;
    
    &.active {
      @apply bg-agri-green-500 scale-125;
    }
  }
}

// Mejoras para dispositivos móviles
@media (max-width: 640px) {
  // Reducir padding en móviles
  .card {
    .p-6 {
      @apply p-4;
    }
  }

  // Ajustar tamaño de tarjetas en móvil
  .flex-none.w-80 {
    @apply w-72;
  }

  // Optimizar botones en móvil
  .hidden.sm\\:inline {
    @apply inline;
  }
}

// Mejoras para tablets
@media (min-width: 641px) and (max-width: 1024px) {
  .flex-none.w-80 {
    @apply w-76;
  }
}

// Estados de foco mejorados para accesibilidad
button:focus-visible,
[role="button"]:focus-visible {
  @apply ring-2 ring-agri-green-500 ring-offset-2;
  outline: none;
}

// Mejoras de contraste para accesibilidad
.text-gray-500 {
  color: #6b7280; // Asegurar contraste suficiente
}

.text-gray-600 {
  color: #4b5563; // Asegurar contraste suficiente
}

// Loading state mejorado
.animate-spin {
  animation: spin 1.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) infinite;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

// Transiciones suaves para todos los elementos interactivos
a, button, [role="button"], .card {
  @apply transition-all duration-300 ease-in-out;
}

// Mejoras de hover para mejor UX
.group:hover {
  .group-hover\\:text-agri-green-700 {
    color: var(--agri-green-700);
  }
  
  .group-hover\\:shadow-lg {
    box-shadow: var(--shadow-large);
  }
}

// Estilos para el estado vacío (por si se necesita)
.empty-state {
  @apply text-center py-20;
  
  .empty-icon {
    @apply text-6xl opacity-40 mb-4;
  }
  
  h3 {
    @apply text-xl font-semibold text-gray-700 mb-2;
  }
  
  p {
    @apply text-gray-500;
  }
}

// Optimizaciones de rendimiento
.card {
  will-change: transform, box-shadow;
}

.product-img {
  will-change: transform;
}

// Smooth scrolling mejorado para toda la página
html {
  scroll-behavior: smooth;
}

// Mejoras para la navegación por teclado
[tabindex="0"]:focus {
  @apply ring-2 ring-agri-green-500 ring-offset-2;
  outline: none;
}

// Indicador de productos disponibles con animación
.stock-indicator {
  position: relative;
  
  &::before {
    content: '';
    position: absolute;
    left: -8px;
    top: 50%;
    transform: translateY(-50%);
    width: 4px;
    height: 4px;
    background: var(--agri-green-500);
    border-radius: 50%;
    animation: pulse 2s infinite;
  }
}

@keyframes pulse {
  0% {
    box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.7);
  }
  70% {
    box-shadow: 0 0 0 10px rgba(34, 197, 94, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(34, 197, 94, 0);
  }
}